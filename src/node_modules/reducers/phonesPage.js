import * as R from 'ramda';

import {FETCH_PHONES_SUCCESS, LOAD_MORE_PHONES_SUCCESS} from 'actionTypes';

const  initialState = {
  ids: []
}

const phonesPage = (state=initialState, {type, payload}) => {
  switch (type) {
    case FETCH_PHONES_SUCCESS:
      return R.mergeRight(
        state, {
        ids: R.pluck('id', payload)
        }
      );
    case LOAD_MORE_PHONES_SUCCESS:
      // return R.mergeRight(state, {
      //   ids: R.concat(state.ids, R.pluck('id', payload))
      // })
      const newIds = payload.map(i => i.id);
      return  {
        ...state,
        ids: state.ids.concat(newIds )
      }

    default:
      return state;
  }
}

export default  phonesPage;